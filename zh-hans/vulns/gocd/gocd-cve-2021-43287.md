# ğŸ§¡ GoCD Business Continuity ä»»æ„æ–‡ä»¶è¯»å–

### 1ï¼‰æ¼æ´ä¿¡æ¯

|æ¼æ´åç§°	|å—å½±å“ç»„ä»¶	|æ¼æ´ç±»å‹	|æ¼æ´ç¼–å·	|
|--	|--	|--	|--	|
|GoCD Business Continuityä»»æ„æ–‡ä»¶è¯»å–	|[GoCD](https://github.com/gocd/gocd)	|ä»»æ„æ–‡ä»¶è¯»å–	|CVE-2021-43287	|

|æ¼æ´ç®€ä»‹	|
|--	|
|<p>â€‹GoCD Business Continuity å­˜åœ¨ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´ï¼Œæœªç»èº«ä»½éªŒè¯çš„æ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¯¥æ¼æ´æ¥æ¥ç®¡ CI/CD ç®¡é“ï¼Œæœ€ç»ˆå¯åœ¨æœªæˆæƒçš„æƒ…å†µä¸‹é€ æˆä»»æ„æ–‡ä»¶è¯»å–ï¼Œè·å–æ•æ„ŸAPIå¯†é’¥ç­‰ä¿¡æ¯ã€‚</p><p>å½±å“ç‰ˆæœ¬ï¼š</p>20.6.0 <= GoCD <= 21.2.0	|

|å‚è€ƒé“¾æ¥	|
|--	|
|<ol><li><a href="https://avd.aliyun.com/detail?id=AVD-2021-43287">https://avd.aliyun.com/detail?id=AVD-2021-43287</a></li><li><a href="http://wiki.peiqi.tech/wiki/webserver/GoCD/GoCD%20plugin%20%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%BC%8F%E6%B4%9E%20CVE-2021-43287.html">http://wiki.peiqi.tech/wiki/webserver/GoCD/GoCD%20plugin%20%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%BC%8F%E6%B4%9E%20CVE-2021-43287.html</a></li></ol>	|

|è¡¥ä¸åŠä¿®å¤æ–¹æ¡ˆ	|
|--	|
|å‡çº§è¯¥ç»„ä»¶è‡³æœ€æ–°ç‰ˆæœ¬ï¼š<ol><li><a href="https://github.com/gocd/gocd">https://github.com/gocd/gocd</a></li><li><a href="https://www.gocd.org/">https://www.gocd.org/</a></li></ol>	|

### æ¼æ´ç¯å¢ƒ

#### æ–¹æ¡ˆä¸€
ä½¿ç”¨[å®˜æ–¹é•œåƒ](https://hub.docker.com/layers/gocd/gocd-server/v21.1.0/images/sha256-7d68a41ac2656d1ccf3e8426df7be0df7b92b4a5e49d28486642200fc6604c86?context=explore)æ­å»ºæ¼æ´ç¯å¢ƒ

```
docker pull gocd/gocd-server:v21.1.0
docker run -itd -p 8153:8153 gocd/gocd-server:v21.1.0
```

<figure><img src="https://cdn.staticaly.com/gh/clincat/blog-imgs@main/hub/static/imgs/vulns/gocd/cve-2021-43287/01.png" alt=""><figcaption></figcaption></figure>

å¯åŠ¨å®¹å™¨åï¼Œè®¿é—®8153ç«¯å£å³å¯çœ‹åˆ°gocdçš„é¡µé¢
<figure><img src="https://cdn.staticaly.com/gh/clincat/blog-imgs@main/hub/static/imgs/vulns/gocd/cve-2021-43287/02.png" alt=""><figcaption></figcaption></figure>


#### æ–¹æ¡ˆäºŒ
ä½¿ç”¨[vulfocusé•œåƒ](https://github.com/fofapro/vulfocus)æ­å»ºæ¼æ´ç¯å¢ƒ

```
docker pull vulfocus/gocd-cve_2021_43287
docker run -itd -p 8153:8153 vulfocus/gocd-cve_2021_43287
```

<figure><img src="https://cdn.staticaly.com/gh/clincat/blog-imgs@main/hub/static/imgs/vulns/gocd/cve-2021-43287/07.png" alt=""><figcaption></figcaption></figure>

å¯åŠ¨å®¹å™¨åï¼Œå¦‚æœçœ‹åˆ°ä»¥ä¸‹é¡µé¢ï¼Œåˆ™ç¨ç­‰ä¸€ä¼š
<figure><img src="https://cdn.staticaly.com/gh/clincat/blog-imgs@main/hub/static/imgs/vulns/gocd/cve-2021-43287/08.png" alt=""><figcaption></figcaption></figure>

ç¨ç­‰ä¸€ä¼šä¹‹åï¼Œå³å¯çœ‹åˆ°gocdé¡µé¢
<figure><img src="https://cdn.staticaly.com/gh/clincat/blog-imgs@main/hub/static/imgs/vulns/gocd/cve-2021-43287/10.png" alt=""><figcaption></figcaption></figure>


### æ¼æ´å¤ç°

```
python3 vulcat.py -u <URL> -a gocd -v cve-2021-43287

# æ³¨æ„, vulcat-v2.0.0ç‰ˆæœ¬åŠä»¥ä¸Š, åº”ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤
python3 vulcat.py -u <URL> -v cve-2021-43287
```

<figure><img src="https://cdn.staticaly.com/gh/clincat/blog-imgs@main/hub/static/imgs/vulns/gocd/cve-2021-43287/03.png" alt=""><figcaption></figcaption></figure>

ç›´æ¥è®¿é—®Targetå³å¯è¯»å–/etc/passwdæ–‡ä»¶
<figure><img src="https://cdn.staticaly.com/gh/clincat/blog-imgs@main/hub/static/imgs/vulns/gocd/cve-2021-43287/04.png" alt=""><figcaption></figcaption></figure>

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨Requestæ•°æ®åŒ…
<figure><img src="https://cdn.staticaly.com/gh/clincat/blog-imgs@main/hub/static/imgs/vulns/gocd/cve-2021-43287/05.png" alt=""><figcaption></figcaption></figure>

/etc/group
<figure><img src="https://cdn.staticaly.com/gh/clincat/blog-imgs@main/hub/static/imgs/vulns/gocd/cve-2021-43287/06.png" alt=""><figcaption></figcaption></figure>

#### æ”¯æŒ--shellé€‰é¡¹

```
python3 vulcat.py -u <URL> -a gocd -v cve-2021-43287 --shell

# æ³¨æ„, vulcat-v2.0.0ç‰ˆæœ¬åŠä»¥ä¸Š, -aé€‰é¡¹è¢«ç§»é™¤, åº”ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤
python3 vulcat.py -u <URL> -v cve-2021-43287 --shell
```

<figure><img src="https://cdn.staticaly.com/gh/clincat/blog-imgs@main/hub/static/imgs/vulns/gocd/cve-2021-43287/12.png" alt=""><figcaption></figcaption></figure>
