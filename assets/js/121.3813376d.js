(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{435:function(s,e,t){"use strict";t.r(e);var r=t(7),n=Object(r.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("div",{staticClass:"cardListContainer"},[e("div",{staticClass:"card-list"},[e("span",{staticClass:"card-item row-2",staticStyle:{"background-color":"#F0DFB1","--randomColor":"#F0DFB1",color:"green"}},[e("div",[e("p",{staticClass:"name"},[s._v("翻译")]),s._v(" "),e("p",{staticClass:"desc"},[s._v("原文：https://devopscube.com/kubernetes-ingress-tutorial/")])])])]),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 翻译\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("desc")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 原文：https"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//devopscube.com/kubernetes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("ingress"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("tutorial/\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bgColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#F0DFB1'")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("textColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'green'")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])]),e("h1",{attrs:{id:"ingress入门指南"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ingress入门指南"}},[s._v("#")]),s._v(" Ingress入门指南")]),s._v(" "),e("img",{attrs:{src:"https://fastly.statically.io/gh/clincat/blog-imgs@main/vuepress/static/imgs/docs/cloud-native-security/CKS/devopscube.com/uploads/2023/03/kubernetes-INgress-1.png.webp",alt:"Not Found Image"}}),s._v(" "),e("p",[s._v("在本 Kubernetes Ingress 教程中，您将学习 "),e("b",[s._v("Ingress 的基本概念")]),s._v("、原生 Ingress 资源对象以及 "),e("b",[s._v("Ingress 控制器中涉及的概念")]),s._v("。")]),s._v(" "),e("p",[s._v("Kubernetes Ingress 是一种资源，用于添加规则以将流量从外部源路由到 Kubernetes 集群中运行的应用程序。")]),s._v(" "),e("p",[s._v("以下是我将在 Kubernetes Ingress 完整指南中介绍的主题：")]),s._v(" "),e("hr"),s._v(" "),e("hr"),s._v(" "),e("h2",{attrs:{id:"什么是kubernetes-ingress"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是kubernetes-ingress"}},[s._v("#")]),s._v(" "),e("Badge",{attrs:{type:"error",text:"1"}}),s._v("什么是Kubernetes Ingress？")],1),s._v(" "),e("p",[s._v("字面意思："),e("b",[s._v("Ingress")]),s._v(" 是指进入的行为。")]),s._v(" "),e("p",[s._v("在 Kubernetes 世界中也是如此。Ingress 表示进入集群的流量，Egress 表示离开集群的流量。")]),s._v(" "),e("img",{attrs:{src:"https://fastly.statically.io/gh/clincat/blog-imgs@main/vuepress/static/imgs/docs/cloud-native-security/CKS/devopscube.com/uploads/2023/03/image-8.png.webp",alt:"Not Found Image"}}),s._v(" "),e("p",[s._v("Ingress 是一个原生的 Kubernetes 资源，就像 pods、deployments 等。使用 Ingress，您可以"),e("b",[s._v("维护 DNS 路由配置")]),s._v("。Ingress 控制器通过存储在 etcd 中的 Ingress 对象读取路由规则，来执行实际的路由。")]),s._v(" "),e("p",[s._v("让我们通过一个高级示例来理解 ingress。")]),s._v(" "),e("p",[s._v("在没有 Kubernetes ingress 的情况下，如果要向外界公开应用程序，您需要将服务类型 Loadbalancer 添加到 deployments 中。这是它的样子。（我在此处展示的是 nodePort 只为了展示流量）")]),s._v(" "),e("img",{attrs:{src:"https://fastly.statically.io/gh/clincat/blog-imgs@main/vuepress/static/imgs/docs/cloud-native-security/CKS/devopscube.com/uploads/2023/03/image-11.png.webp",alt:"Not Found Image"}}),s._v(" "),e("p",[s._v("在同一个实现中，如果使用 Ingress 的话，则负载均衡器和 kubernetes 服务端点之间存在一个反向代理层（由 Ingress 控制器实现）。")]),s._v(" "),e("p",[s._v("下面是一个非常高级的 ingress 实现视图。在后面的部分中，我们将看到一个 涵盖所有关键概念 的详细架构。")]),s._v(" "),e("img",{attrs:{src:"https://fastly.statically.io/gh/clincat/blog-imgs@main/vuepress/static/imgs/docs/cloud-native-security/CKS/devopscube.com/uploads/2023/03/image-14.png.webp",alt:"Not Found Image"}}),s._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),e("p",[s._v("注意：AWS、GCP 云上的 ingress 控制器实现略有不同。例如，"),e("a",{attrs:{href:"https://devopscube.com/aws-load-balancers/",target:"_blank",rel:"noopener noreferrer"}},[s._v("AWS loadbalancer"),e("OutboundLink")],1),s._v("本身即可充当 ingress 控制器。请参阅"),e("a",{attrs:{href:"https://devopscube.com/setup-ingress-gke-ingress-controller/",target:"_blank",rel:"noopener noreferrer"}},[s._v("GKE ingress 设置"),e("OutboundLink")],1),s._v("博客，了解有关 GCP loadbalancer 的更多信息。")])]),s._v(" "),e("h2",{attrs:{id:"在-kubernetes-ingress-之前"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在-kubernetes-ingress-之前"}},[s._v("#")]),s._v(" "),e("Badge",{attrs:{type:"error",text:"2"}}),s._v("在 Kubernetes Ingress 之前？")],1),s._v(" "),e("p",[s._v("在 Kubernetes Ingress 问世之前，自定义的 Nginx 或 HAproxy Kubernetes deployment 将被公开为 Loadbalancer 服务，用于将外部流量路由到内部集群服务。")]),s._v(" "),e("p",[s._v("路由规则被作为 configmap 添加到 Nginx/HAProxy 的 pods 中。每当 DNS 发生更改或要添加新的路由条目时，它都会在 configmap 中更新，并重新加载和部署 pod 配置。")]),s._v(" "),e("p",[s._v("Kubernetes ingress 也遵循类似的模式，但它将路由规则维护为原生 Kubernetes ingress 对象，而不是一个 configmap。")]),s._v(" "),e("p",[s._v("Nginx/HAProxy 的代替方案有 ingress 控制器、Nginx/HAProxy 的定制版本等，它们都可以动态地获取路由规则。")]),s._v(" "),e("p",[s._v("此外，还有一些使用 consul 实现的其他"),e("a",{attrs:{href:"https://devopscube.com/open-source-service-discovery/",target:"_blank",rel:"noopener noreferrer"}},[s._v("服务发现工具"),e("OutboundLink")],1),s._v("，可以在不停机的情况下将 DNS 变化更新到 Nginx 或 HAproxy，这为 ingress 带来了更精确的实现。")]),s._v(" "),e("p",[s._v("在 openshift 方面，路由器（HAproxy 实现）概念使得 在集群外部公开服务端点 变得容易。您所要做的就是进行路由器配置（Openshift YAML 对象），然后 openshift 路由器会处理好一切。它类似于 Kubernetes ingress。")]),s._v(" "),e("h2",{attrs:{id:"kubernetes-ingress是如何工作的"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-ingress是如何工作的"}},[s._v("#")]),s._v(" "),e("Badge",{attrs:{type:"error",text:"3"}}),s._v("Kubernetes Ingress是如何工作的？")],1),s._v(" "),e("p",[s._v("如果您是一个初学者，并试图了解 ingress，那么可能会对它的工作原理感到困惑。")]),s._v(" "),e("p",[s._v("例如，您可能会问：嘿，我创建了 ingress 规则，但我不确定如何将其映射到域名，或将外部流量路由到内部 deployments。")]),s._v(" "),e("p",[s._v("您需要非常清楚以下两个关键概念，才能理解这一点。")]),s._v(" "),e("ol",[e("li",[e("b",[s._v("Kubernetes Ingress 资源")]),s._v("：Kubernetes 的 ingress 资源负责在集群中存储 DNS 路由规则。")]),s._v(" "),e("li",[e("b",[s._v("Kubernetes Ingress 控制器")]),s._v("：Kubernetes 的 ingress 控制器（Nginx/HAProxy 等）负责访问和应用 Ingress 资源中的 DNS 规则来进行路由。")])]),s._v(" "),e("img",{attrs:{src:"https://fastly.statically.io/gh/clincat/blog-imgs@main/vuepress/static/imgs/docs/cloud-native-security/CKS/devopscube.com/uploads/2023/03/ingress-blog-images.png.webp",alt:"Not Found Image"}}),s._v(" "),e("p",[s._v("让我们详细了解一下 ingress 资源和 ingress 控制器。")]),s._v(" "),e("h2",{attrs:{id:"kubernetes-ingress资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-ingress资源"}},[s._v("#")]),s._v(" "),e("Badge",{attrs:{type:"error",text:"4"}}),s._v("Kubernetes Ingress资源")],1),s._v(" "),e("p",[s._v("Kubernetes Ingress 资源是一个原生的 kubernetes 资源，您可以在其中指定 DNS 路由规则。这意味着，您可以将外部 DNS 流量映射到内部 Kubernetes 服务端点。")]),s._v(" "),e("p",[s._v("它需要一个 ingress 控制器，来路由 ingress 对象中指定的规则。让我们来看看一个非常基本的入口资源。")]),s._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" networking.k8s.io/v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Ingress\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("ingress\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" dev\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("rules")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("host")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" test.apps.example.com\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("http")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("paths")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("backend")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("serviceName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hello"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("service\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("servicePort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("p",[s._v("上面的声明意味着，所有对"),e("code",[s._v("test.apps.example.com")]),s._v("的访问都应该被路由到位于"),e("code",[s._v("dev")]),s._v("命名空间中名为"),e("code",[s._v("hello-service")]),s._v("的服务。")]),s._v(" "),e("p",[s._v("正如您所看到的，它只具备路由规则。您可以为基于路径的路由添加多个路由端点，也可以添加 TLS 配置等。")]),s._v(" "),e("p",[s._v("需要了解的有关入口对象的关键事项。")]),s._v(" "),e("p",[s._v("一些有关于了解 ingress 对象的关键事项：")]),s._v(" "),e("ol",[e("li",[s._v("ingress 对象需要 ingress 控制器来路由流量。")]),s._v(" "),e("li",[s._v("最重要的是，外部流量不会直接到达 ingress API，而是到达使用了负载均衡器配置的 ingress 控制器服务端点。")])]),s._v(" "),e("p",[s._v("现在，让我们了解一下 ingress 控制器。")]),s._v(" "),e("h2",{attrs:{id:"kubernetes-ingress控制器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-ingress控制器"}},[s._v("#")]),s._v(" "),e("Badge",{attrs:{type:"error",text:"5"}}),s._v("Kubernetes Ingress控制器")],1),s._v(" "),e("p",[s._v("Ingress 控制器"),e("b",[s._v("不是原生的 Kubernetes 实现")]),s._v("。这意味着，默认情况下它不会在集群中出现。")]),s._v(" "),e("p",[s._v("我们需要设置一个 ingress 控制器才能使 ingress 规则正常工作。有几种开源的和企业级的 ingress 控制器可用。")]),s._v(" "),e("p",[s._v("ingress 控制器通常是由集群中的反向 Web 代理服务器实现。在 kubernetes 术语中，它是一个反向代理服务器，将其部署为 "),e("a",{attrs:{href:"https://devopscube.com/kubernetes-deployment-tutorial/",target:"_blank",rel:"noopener noreferrer"}},[s._v("kubernetes deployment"),e("OutboundLink")],1),s._v("，并暴露给服务类型 Loadbalancer。")]),s._v(" "),e("p",[s._v("您可以将集群中的多个 ingress 控制器映射到多个负载均衡器。每个 ingress 控制器都应该将一个名为 "),e("b",[s._v("ingress-class")]),s._v(" 的唯一标识符添加到注释中。")]),s._v(" "),e("h2",{attrs:{id:"kubernetes-ingress控制器是如何工作的"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-ingress控制器是如何工作的"}},[s._v("#")]),s._v(" "),e("Badge",{attrs:{type:"error",text:"6"}}),s._v("Kubernetes Ingress控制器是如何工作的？")],1),s._v(" "),e("p",[s._v("Nginx 是广泛使用的 ingress 控制器之一。")]),s._v(" "),e("p",[s._v("因此，让我们以 Nginx 的 ingress 控制器实现为例，来了解它是如何工作的。")]),s._v(" "),e("img",{attrs:{src:"https://fastly.statically.io/gh/clincat/blog-imgs@main/vuepress/static/imgs/docs/cloud-native-security/CKS/devopscube.com/uploads/2023/03/image-15.png.webp",alt:"Not Found Image"}}),s._v(" "),e("ol",[e("li",[s._v("Nginx 控制器 Pod 中的"),e("code",[s._v("nginx.conf")]),s._v("文件是一个 lua 模板，可以与 "),e("b",[s._v("Kubernetes ingress API")]),s._v(" 通信并实时获取流量路由的最新值。这是"),e("a",{attrs:{href:"https://github.com/kubernetes/ingress-nginx/blob/main/rootfs/etc/nginx/template/nginx.tmpl",target:"_blank",rel:"noopener noreferrer"}},[s._v("模板文件"),e("OutboundLink")],1),s._v("。")]),s._v(" "),e("li",[s._v("Nginx 控制器与 Kubernetes ingress API 通信，以检查是否为流量路由创建了任何新规则。")]),s._v(" "),e("li",[s._v("如果找到任何 ingress 规则，则 Nginx 控制器会在每个 nginx Pod 内的"),e("code",[s._v("/etc/nginx/conf.d")]),s._v("位置生成路由配置。")]),s._v(" "),e("li",[s._v("对于您创建的每个 ingress 资源，Nginx 都会在"),e("code",[s._v("/etc/nginx/conf.d")]),s._v("位置中生成一个配置。")]),s._v(" "),e("li",[s._v("主文件"),e("code",[s._v("/etc/nginx/nginx.conf")]),s._v("包含来自"),e("code",[s._v("/etc/nginx/conf.d")]),s._v("的所有配置。")]),s._v(" "),e("li",[s._v("当您使用新配置更新 ingress 对象时，Nginx 配置也会同步更新，并优雅地重新加载配置。")])]),s._v(" "),e("p",[s._v("如果您使用 exec 连接到 Nginx ingress 控制器 Pod 中并检查"),e("code",[s._v("/etc/nginx/nginx.conf")]),s._v("文件，则可以在 conf 文件中看到应用的所有 ingress 对象规则。")]),s._v(" "),e("h2",{attrs:{id:"ingress和ingress控制器架构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ingress和ingress控制器架构"}},[s._v("#")]),s._v(" "),e("Badge",{attrs:{type:"error",text:"7"}}),s._v("Ingress和Ingress控制器架构")],1),s._v(" "),e("p",[s._v("下面是架构图，解释了设置在 kubernetes 集群上的 ingress 和 ingress 控制器。")]),s._v(" "),e("p",[s._v("它显示了将流量路由到两个支付 & 身份验证应用程序的 ingress 规则。")]),s._v(" "),e("p",[s._v("现在，如果你回头看看架构，它将会变得更有意义，您可以理解每个 ingress 工作流是如何工作的。")]),s._v(" "),e("img",{attrs:{src:"https://fastly.statically.io/gh/clincat/blog-imgs@main/vuepress/static/imgs/docs/cloud-native-security/CKS/devopscube.com/uploads/2023/03/image-3.png",alt:"Not Found Image"}}),s._v(" "),e("h2",{attrs:{id:"kubernetes-ingress控制器列表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-ingress控制器列表"}},[s._v("#")]),s._v(" "),e("Badge",{attrs:{type:"error",text:"8"}}),s._v("Kubernetes Ingress控制器列表")],1),s._v(" "),e("p",[s._v("以下是适用于 Kubernetes 的"),e("b",[s._v("常用 ingress 控制器")]),s._v("。")]),s._v(" "),e("ol",[e("li",[s._v("Nginx Ingress 控制器（"),e("a",{attrs:{href:"https://github.com/kubernetes/ingress-nginx",target:"_blank",rel:"noopener noreferrer"}},[s._v("社区"),e("OutboundLink")],1),s._v(" & "),e("a",{attrs:{href:"https://github.com/nginxinc/kubernetes-ingress",target:"_blank",rel:"noopener noreferrer"}},[s._v("来自Nginx Inc"),e("OutboundLink")],1),s._v("）")]),s._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/containous/traefik",target:"_blank",rel:"noopener noreferrer"}},[s._v("Traefik"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://www.haproxy.com/blog/haproxy_ingress_controller_for_kubernetes/",target:"_blank",rel:"noopener noreferrer"}},[s._v("HAproxy"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/heptio/contour",target:"_blank",rel:"noopener noreferrer"}},[s._v("Contour"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/kubernetes/ingress-gce",target:"_blank",rel:"noopener noreferrer"}},[s._v("GKE Ingress 控制器"),e("OutboundLink")],1),s._v("（谷歌云 Kubernetes 托管服务-GKE）")]),s._v(" "),e("li",[e("a",{attrs:{href:"https://docs.aws.amazon.com/eks/latest/userguide/alb-ingress.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("AWS ALB Ingress 控制器"),e("OutboundLink")],1),s._v("（亚马逊云 Kubernetes 托管服务-AKS）")]),s._v(" "),e("li",[e("a",{attrs:{href:"https://azure.github.io/application-gateway-kubernetes-ingress/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Azure 应用程序网关 Ingress 控制器"),e("OutboundLink")],1)])]),s._v(" "),e("p",[s._v("Learnk8s 创建了一个很棒的文档，比较了所有可用的 ingress 控制器。查看"),e("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/191WWNpjJ2za6-nbG4ZoUMXMpUK8KlCIosvQB0f-oq3k/edit#gid=907731238",target:"_blank",rel:"noopener noreferrer"}},[s._v("比较文档"),e("OutboundLink")],1),s._v("。")]),s._v(" "),e("h2",{attrs:{id:"部署您的第一个ingress控制器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署您的第一个ingress控制器"}},[s._v("#")]),s._v(" "),e("Badge",{attrs:{type:"error",text:"9"}}),s._v("部署您的第一个Ingress控制器")],1),s._v(" "),e("p",[s._v("为了更好地理解 ingress 和 ingress 控制器，您应该亲自动手实现。")]),s._v(" "),e("p",[s._v("我已经发布了一个关于设置 Nginx ingress 控制器的详细指南。")]),s._v(" "),e("p",[s._v("我还详细介绍了一些基本概念，例如 ingress 准入控制器（Admission Controllers）。")]),s._v(" "),e("p",[s._v("此外，我还给出了分步部署清单和解释，以获得深刻的理解。")]),s._v(" "),e("p",[s._v("查看 "),e("a",{attrs:{href:"https://devopscube.com/setup-ingress-kubernetes-nginx-controller/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nginx ingress 控制器设置指南"),e("OutboundLink")],1),s._v("。")]),s._v(" "),e("h2",{attrs:{id:"kubernetes-ingress常见问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-ingress常见问题"}},[s._v("#")]),s._v(" "),e("Badge",{attrs:{type:"error",text:"10"}}),s._v("Kubernetes Ingress常见问题")],1),s._v(" "),e("h4",{attrs:{id:"ingress是负载均衡器吗"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ingress是负载均衡器吗"}},[s._v("#")]),s._v(" Ingress是负载均衡器吗？")]),s._v(" "),e("p",[s._v("Ingress 不是负载均衡器。它包含所有路由规则、自定义标头和 TLS 配置。但 Ingress 控制器可以充当负载均衡器。")]),s._v(" "),e("h4",{attrs:{id:"为什么需要ingress控制器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要ingress控制器"}},[s._v("#")]),s._v(" 为什么需要ingress控制器？")]),s._v(" "),e("p",[s._v("ingress 控制器负责将外部流量实际路由到 Kubernetes 服务端点。如果没有 ingress 控制器，那么添加到 ingress 中的路由规则将无法工作。")]),s._v(" "),e("h4",{attrs:{id:"ingress和nginx有什么区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ingress和nginx有什么区别"}},[s._v("#")]),s._v(" ingress和Nginx有什么区别？")]),s._v(" "),e("p",[s._v("ingress 是一个 kubernetes 对象。Nginx 被用作为 ingress 控制器（反向代理）。")]),s._v(" "),e("h4",{attrs:{id:"我们可以使用ingress将流量路由到多个路径吗"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#我们可以使用ingress将流量路由到多个路径吗"}},[s._v("#")]),s._v(" 我们可以使用ingress将流量路由到多个路径吗？")]),s._v(" "),e("p",[s._v("是的。使用单个 ingress 定义时，您可以添加多个基于路径的路由配置。")]),s._v(" "),e("h4",{attrs:{id:"ingress-是否支持-tls-配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ingress-是否支持-tls-配置"}},[s._v("#")]),s._v(" ingress 是否支持 TLS 配置？")]),s._v(" "),e("p",[s._v("是的。您可以在 ingress 对象定义中对 TLS 进行配置。TLS 证书将作为 Kubernetes secret 添加，并在 ingress 对象中引用。")]),s._v(" "),e("h2",{attrs:{id:"结论"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#结论"}},[s._v("#")]),s._v(" "),e("Badge",{attrs:{type:"error",text:"11"}}),s._v("结论")],1),s._v(" "),e("p",[s._v("在这个 "),e("b",[s._v("Kubernetes Ingress 教程")]),s._v("中，我们了解了 Ingress 及其相关组件在 Kubernetes 中是如何工作的。为生产环境选择 ingress 控制器时，应考虑各种因素和要求。")]),s._v(" "),e("p",[s._v("您可以阅读 "),e("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/191WWNpjJ2za6-nbG4ZoUMXMpUK8KlCIosvQB0f-oq3k/edit#gid=907731238",target:"_blank",rel:"noopener noreferrer"}},[s._v("ingress 控制器比较文档"),e("OutboundLink")],1),s._v("作为选择 ingress 控制器的参考。")]),s._v(" "),e("p",[s._v("也许您刚刚开始学习 ingress 或正在项目中使用 ingress。")]),s._v(" "),e("p",[s._v("无论是哪种情况，请在下面发表评论，让我知道您的想法。")]),s._v(" "),e("p",[s._v("另外，如果您正在学习 Kubernetes，请查看我的 30 多个"),e("a",{attrs:{href:"https://devopscube.com/kubernetes-tutorials-beginners/",target:"_blank",rel:"noopener noreferrer"}},[s._v("全面的 Kubernetes 教程"),e("OutboundLink")],1),s._v("。")]),s._v(" "),e("div",{staticClass:"cardListContainer"},[e("div",{staticClass:"card-list"},[e("span",{staticClass:"card-item row-2",staticStyle:{"background-color":"#38b6ff","--randomColor":"#38b6ff",color:"black"}},[e("div",[e("p",{staticClass:"name"},[s._v("本文原作者：Bibin Wilson")]),s._v(" "),e("p",{staticClass:"desc"},[s._v("https://devopscube.com/author/bibinwilson/")])])])]),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 本文原作者：Bibin Wilson\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("desc")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" https"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//devopscube.com/author/bibinwilson/\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bgColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#38b6ff'")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("textColor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'black'")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);