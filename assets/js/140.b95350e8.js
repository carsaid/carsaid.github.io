(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{455:function(s,t,a){"use strict";a.r(t);var e=a(7),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"cardListContainer"},[t("div",{staticClass:"card-list"},[t("span",{staticClass:"card-item row-2",staticStyle:{"background-color":"#F0DFB1","--randomColor":"#F0DFB1",color:"green"}},[t("div",[t("p",{staticClass:"name"},[s._v("翻译")]),s._v(" "),t("p",{staticClass:"desc"},[s._v("原文：https://devopscube.com/cks-exam-guide-tips/#minimize-external-access-to-the-network")])])])]),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 翻译\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("desc")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 原文：https"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//devopscube.com/cks"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("exam"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("guide"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("tips/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#minimize-external-access-to-the-network")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bgColor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#F0DFB1'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("textColor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'green'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),t("h1",{attrs:{id:"最小化外部网络接入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#最小化外部网络接入"}},[s._v("#")]),s._v(" 最小化外部网络接入")]),s._v(" "),t("p",[s._v("Loadbalancer（负载均衡器） 是一个通用组件，允许外部网络访问 Kubernetes 集群。")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th"),s._v(" "),t("th")])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("Loadbalancer 访问限制")]),s._v(" "),t("td",[t("a",{attrs:{href:"https://v1-17.docs.kubernetes.io/docs/tasks/access-application-cluster/configure-cloud-provider-firewall/#restrict-access-for-loadbalancer-service",target:"_blank",rel:"noopener noreferrer"}},[s._v("限制来自外部网络的 Loadbalancer 访问"),t("OutboundLink")],1)])])])]),s._v(" "),t("div",{staticClass:"custom-block note"},[t("p",{staticClass:"custom-block-title"},[s._v("译者加")]),s._v(" "),t("p",[s._v("作者提供的这份文档链接已经过期了，我在最新的官方文档中没有找到相关的内容。只找到这个文档的父级："),t("a",{attrs:{href:"https://kubernetes.io/zh-cn/docs/tasks/access-application-cluster/",target:"_blank",rel:"noopener noreferrer"}},[s._v("访问集群中的应用程序"),t("OutboundLink")],1),s._v("、"),t("a",{attrs:{href:"https://v1-24.docs.kubernetes.io/zh-cn/docs/tasks/access-application-cluster/",target:"_blank",rel:"noopener noreferrer"}},[s._v("访问集群中的应用程序-v1.24"),t("OutboundLink")],1),s._v("。")])]),s._v(" "),t("div",{staticClass:"custom-block note"},[t("p",{staticClass:"custom-block-title"},[s._v("译者加-2")]),s._v(" "),t("ul",[t("li",[s._v("我在一个备份的非官方文档中发现了相关内容："),t("a",{attrs:{href:"https://unofficial-kubernetes.readthedocs.io/en/latest/tasks/access-application-cluster/configure-cloud-provider-firewall/",target:"_blank",rel:"noopener noreferrer"}},[s._v("限制对 LoadBalancer 服务的访问"),t("OutboundLink")],1),s._v("。题目所描述的内容是通过"),t("code",[s._v("service.spec.loadBalancerSourceRanges")]),s._v("字段来实现的，但是只有某些特定的云提供商才支持该字段（例如谷歌云、亚马逊云等），如果某个云提供商不支持该字段，则会自动忽略它。")]),s._v(" "),t("li",[s._v("下面的示例创建了一个负载均衡器，该负载均衡器只允许 IP 地址为"),t("code",[s._v("130.211.204.1")]),s._v("和"),t("code",[s._v("130.211.204.2")]),s._v("的客户端访问：")])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最小化外部网络接入（示例）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Service\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" myapp\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("targetPort")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" example\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" LoadBalancer\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("loadBalancerSourceRanges")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 130.211.204.1/32\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 130.211.204.2/32\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);