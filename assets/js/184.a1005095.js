(window.webpackJsonp=window.webpackJsonp||[]).push([[184],{498:function(s,a,t){"use strict";t.r(a);var e=t(7),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"aws-命令行界面-cli"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-命令行界面-cli"}},[s._v("#")]),s._v(" AWS 命令行界面（CLI）")]),s._v(" "),a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),a("p",[s._v("aws cli 是一款适用于 AWS(亚马逊云) 的命令行管理工具。")]),s._v(" "),a("p",[s._v("aws cli 中文文档："),a("a",{attrs:{href:"https://docs.amazonaws.cn/cli/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.amazonaws.cn/cli/"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"安装-awscli"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-awscli"}},[s._v("#")]),s._v(" 安装 awscli")]),s._v(" "),a("p",[s._v("你可以在官方文档中 找到适合你系统的安装方式："),a("a",{attrs:{href:"https://docs.amazonaws.cn/cli/latest/userguide/getting-started-version.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.amazonaws.cn/cli/latest/userguide/getting-started-version.html"),a("OutboundLink")],1)]),s._v(" "),a("img",{attrs:{src:"",alt:""}}),s._v(" "),a("p",[s._v("此处以 64位、x86架构的Linux系统 为示例，运行以下命令安装 awscli ：")]),s._v(" "),a("ul",[a("li",[s._v("获取 awscli 压缩包；")]),s._v(" "),a("li",[s._v("解压；")]),s._v(" "),a("li",[s._v("运行安装；")]),s._v(" "),a("li",[s._v("查看 awscli 版本，如果安装成功，会显示版本信息。")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://awscli.amazonaws.com/awscli-exe-linux-x86_64-2.0.30.zip"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"awscliv2.zip"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" awscliv2.zip\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" ./aws/install\naws "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("img",{attrs:{src:"",alt:""}}),s._v(" "),a("img",{attrs:{src:"",alt:""}}),s._v(" "),a("h2",{attrs:{id:"配置-awscli"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-awscli"}},[s._v("#")]),s._v(" 配置 awscli")]),s._v(" "),a("h3",{attrs:{id:"快速配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速配置"}},[s._v("#")]),s._v(" 快速配置")]),s._v(" "),a("p",[s._v("运行以下命令，可以对 awscli 进行默认配置；每当你运行 awscli 的时候，将自动使用默认的配置。")]),s._v(" "),a("ul",[a("li",[s._v("默认的配置文件会保存在"),a("code",[s._v("~/.aws/")]),s._v("目录下。")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进行默认配置")]),s._v("\naws configure\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用默认配置, 列出该账户下的 S3 存储桶")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("img",{attrs:{src:"",alt:""}}),s._v(" "),a("p",[s._v("如果你重复运行"),a("code",[s._v("aws configure")]),s._v("，将会覆盖原有的配置：")]),s._v(" "),a("img",{attrs:{src:"",alt:""}}),s._v(" "),a("h3",{attrs:{id:"配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[s._v("#")]),s._v(" 配置文件")]),s._v(" "),a("p",[s._v("你可以创建多个配置文件，在不同的文件中 保存不同的访问密钥。")]),s._v(" "),a("ul",[a("li",[s._v("例如，你有"),a("code",[s._v("a")]),s._v("和"),a("code",[s._v("b")]),s._v("两个账户的访问密钥，则你可以分别创建两个配置文件："),a("code",[s._v("a-cred")]),s._v("和"),a("code",[s._v("b-cred")]),s._v("；")]),s._v(" "),a("li",[s._v("当 awscli 指定配置文件为"),a("code",[s._v("a-cred")]),s._v("时，你可以访问"),a("code",[s._v("a")]),s._v("账户的资源；")]),s._v(" "),a("li",[a("code",[s._v("b")]),s._v("账户同理。")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进行指定配置")]),s._v("\naws configure "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--profile")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("配置文件名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用指定配置, 列出该账户下的 S3 存储桶")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--profile")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("配置文件名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("img",{attrs:{src:"",alt:""}}),s._v(" "),a("h2",{attrs:{id:"awscli-命令表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awscli-命令表"}},[s._v("#")]),s._v(" awscli 命令表")]),s._v(" "),a("h3",{attrs:{id:"aws-configure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-configure"}},[s._v("#")]),s._v(" aws configure")]),s._v(" "),a("p",[s._v("配置 AWS 访问密钥：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("aws configure\n\naws configure "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--profile")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("参数表：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("参数")]),s._v(" "),a("th",[s._v("作用")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("--profile")]),s._v(" "),a("td",[s._v("将访问密钥等参数 保存到一个新的配置文件中")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td")])])]),s._v(" "),a("p",[s._v("学习更多 - 官方文档："),a("a",{attrs:{href:"https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/cli-configure-quickstart.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/cli-configure-quickstart.html"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"amazon-ec2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#amazon-ec2"}},[s._v("#")]),s._v(" Amazon EC2")]),s._v(" "),a("p",[s._v("参数表：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("参数")]),s._v(" "),a("th",[s._v("作用")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("--filters")]),s._v(" "),a("td",[s._v("过滤结果，格式为："),a("br"),a("code",[s._v('"Name=<键>,Values=<值>"')])])]),s._v(" "),a("tr",[a("td",[s._v("--snapshot-id")]),s._v(" "),a("td",[s._v("指定快照id")])]),s._v(" "),a("tr",[a("td",[s._v("--attribute")]),s._v(" "),a("td",[s._v("指定属性")])]),s._v(" "),a("tr",[a("td",[s._v("--region")]),s._v(" "),a("td",[s._v("指定地区")])]),s._v(" "),a("tr",[a("td",[s._v("--availability-zone")]),s._v(" "),a("td",[s._v("指定可用区")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td")])])]),s._v(" "),a("h4",{attrs:{id:"aws-ec2-describe-instances"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-ec2-describe-instances"}},[s._v("#")]),s._v(" aws ec2 describe-instances")]),s._v(" "),a("p",[s._v("列出实例")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出所有实例")]),s._v("\naws ec2 describe-instances\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出符合条件 instance-type=t2.micro 的所有实例")]),s._v("\naws ec2 describe-instances "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--filters")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Name=instance-type,Values=t2.micro"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"aws-ec2-describe-snapshots"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-ec2-describe-snapshots"}},[s._v("#")]),s._v(" aws ec2 describe-snapshots")]),s._v(" "),a("p",[s._v("列出快照")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出所有快照")]),s._v("\naws ec2 describe-snapshots\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出符合条件 volume-id=vol-xxx 的所有快照")]),s._v("\naws ec2 describe-snapshots "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--filters")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Name=volume-id,Values=vol-xxx"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"aws-ec2-describe-snapshot-attribute"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-ec2-describe-snapshot-attribute"}},[s._v("#")]),s._v(" aws ec2 describe-snapshot-attribute")]),s._v(" "),a("p",[s._v("列出快照属性")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出所有快照及所有属性")]),s._v("\naws ec2 describe-snapshots-attribute\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出快照id为 snap-0123xxx 的快照及其属性")]),s._v("\naws ec2 describe-snapshots-attribute --snapshot-id snap-0123xxx\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出所有快照的 createVolumePermission 属性")]),s._v("\naws ec2 describe-snapshots-attribute "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--attribute")]),s._v(" createVolumePermission\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"aws-ec2-create-volume"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-ec2-create-volume"}},[s._v("#")]),s._v(" aws ec2 create-volume")]),s._v(" "),a("p",[s._v("创建卷存储")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 基于快照 snap-0123xx 创建一个卷存储")]),s._v("\naws ec2 create-volume --snapshot-id snap-0123xx\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定了地区 和 可用区")]),s._v("\naws ec2 create-volume --snapshot-id snap-0123xx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--region")]),s._v(" us-west-2 --availability-zone us-west-2a\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"aws-ec2-attach-volume"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-ec2-attach-volume"}},[s._v("#")]),s._v(" aws ec2 attach-volume")]),s._v(" "),a("p",[s._v("挂载卷存储")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 格式")]),s._v("\naws ec2 attach-volume --volume-id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("卷id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" --instance-id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("实例id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--device")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("挂载路径"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将卷 vol-123 挂载到实例 i-abc 的目录 /dev/sdf 下")]),s._v("\naws ec2 attach-volume --volume-id vol-123 --instance-id i-abc "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--device")]),s._v(" /dev/sdf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"amazon-s3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#amazon-s3"}},[s._v("#")]),s._v(" Amazon S3")]),s._v(" "),a("p",[s._v("awscli 提供 S3存储桶 的相关操作。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("aws s3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("子命令"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取帮助信息")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[a("b",[s._v("存储桶")]),s._v(" – 顶级 Amazon S3 文件夹。")]),s._v(" "),a("li",[a("b",[s._v("前缀")]),s._v(" – 存储桶中的 Amazon S3 文件夹。")]),s._v(" "),a("li",[a("b",[s._v("对象")]),s._v(" – 托管在 Amazon S3 存储桶中的任何项。")])]),s._v(" "),a("p",[s._v("参数表：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("参数")]),s._v(" "),a("th",[s._v("作用")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("--profile")]),s._v(" "),a("td",[s._v("指定配置文件")])]),s._v(" "),a("tr",[a("td",[s._v("--acl")]),s._v(" "),a("td",[s._v("为复制到存储桶的文件 设置访问权限，支持的值："),a("br"),s._v("private"),a("br"),s._v("public-read"),a("br"),s._v("public-read-write")])]),s._v(" "),a("tr",[a("td",[s._v("--exclude")]),s._v(" "),a("td",[s._v("排除指定的文件，不对其进行操作"),a("br"),s._v("支持通配符 星号、问号（*、?）等")])]),s._v(" "),a("tr",[a("td",[s._v("--recursive")]),s._v(" "),a("td",[s._v("递归，针对所指定目录下的所有文件 执行该命令")])]),s._v(" "),a("tr",[a("td",[s._v("--region")]),s._v(" "),a("td",[s._v("指定地区，例如 us-west-2（美西2区）")])]),s._v(" "),a("tr",[a("td",[s._v("......")]),s._v(" "),a("td",[s._v("......")])])])]),s._v(" "),a("p",[s._v("学习更多 - 官方文档："),a("a",{attrs:{href:"https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/cli-services-s3.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/cli-services-s3.html"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"aws-s3-ls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-s3-ls"}},[s._v("#")]),s._v(" aws s3 ls")]),s._v(" "),a("p",[s._v("列出存储桶和对象")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出一个账户下的所有S3存储桶")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出一个存储桶中的所有前缀和对象")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" s3://"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("存储桶名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出一个前缀中的所有对象")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" s3://"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("存储桶名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("前缀名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"aws-s3-md"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-s3-md"}},[s._v("#")]),s._v(" aws s3 md")]),s._v(" "),a("p",[s._v("创建存储桶")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个S3存储桶")]),s._v("\naws s3 md s3://"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("存储桶名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"aws-s3-rb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-s3-rb"}},[s._v("#")]),s._v(" aws s3 rb")]),s._v(" "),a("p",[s._v("删除存储桶")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除一个 空的 S3存储桶，存储桶必须为空，否则操作不成功")]),s._v("\naws s3 rb s3://"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("存储桶名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 强制删除一个S3存储桶")]),s._v("\naws s3 rb s3://"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("存储桶名称"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--force")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"aws-s3-cp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-s3-cp"}},[s._v("#")]),s._v(" aws s3 cp")]),s._v(" "),a("p",[s._v("复制对象")]),s._v(" "),a("p",[s._v("存储桶 与 存储桶之间的复制：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将bucket-a中的对象example 复制到 bucket-x当中")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" s3://bucket-a/example s3://bucket-x/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("本地 与 存储桶之间的复制：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将本地文件filename.txt 复制到 存储桶bucket-name")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" filename.txt s3://bucket-name\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将存储桶bucket-name中的文件filename.txt 复制到 本地的当前目录下")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" s3://bucket-name/filename.txt ./\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("流式传输：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 将文本"hello world" 流式传输 到存储桶bucket-name的filename.txt文件当中')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" aws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" - s3://bucket-name/filename.txt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将filename.txt的文件内容 流式传输 到stdout（标准输出）")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" s3://bucket-name/filename.txt -\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("实战示例：")]),s._v(" "),a("ul",[a("li",[s._v("将"),a("code",[s._v("s3://bucket-name/pre")]),s._v("的文件内容传输到本地"),a("code",[s._v("stdout")]),s._v("；")]),s._v(" "),a("li",[s._v("使用"),a("code",[s._v("bzip2")]),s._v("命令进行压缩；")]),s._v(" "),a("li",[s._v("将压缩后的文件内容，上传到"),a("code",[s._v("s3://bucket-name/key.bz2")]),s._v("。")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("aws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" s3://bucket-name/pre - "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bzip2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--best")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" aws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" - s3://bucket-name/key.bz2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"aws-s3-mv"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-s3-mv"}},[s._v("#")]),s._v(" aws s3 mv")]),s._v(" "),a("p",[s._v("移动对象")]),s._v(" "),a("p",[s._v("存储桶 与 存储桶之间的移动：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将bucket-a中的对象example 移动到 bucket-x")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" s3://bucket-a/example s3://bucket-x/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("本地 与 存储桶之间的移动：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将本地文件filename.txt 移动到 存储桶bucket-name")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" filename.txt s3://bucket-name\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将存储桶bucket-name中的文件filename.txt 移动到 本地的当前目录下")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" s3://bucket-name/filename.txt ./\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"aws-s3-rm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-s3-rm"}},[s._v("#")]),s._v(" aws s3 rm")]),s._v(" "),a("p",[s._v("删除对象")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从example中 删除对象 filename.txt")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" s3://bucket-name/example/filename.txt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除example下的所有对象")]),s._v("\naws s3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" s3://bucket-name/example "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--recursive")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"aws-s3-sync"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-s3-sync"}},[s._v("#")]),s._v(" aws s3 sync")]),s._v(" "),a("p",[s._v("同步对象")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://docs.amazonaws.cn/cli/latest/userguide/cli-services-s3-commands.html#using-s3-commands-managing-objects-sync",target:"_blank",rel:"noopener noreferrer"}},[s._v("......"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);