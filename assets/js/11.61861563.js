(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{328:function(s,a,t){"use strict";t.r(a);var e=t(7),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"cardListContainer"},[a("div",{staticClass:"card-list"},[a("span",{staticClass:"card-item row-2",staticStyle:{"background-color":"#F0DFB1","--randomColor":"#F0DFB1",color:"green"}},[a("div",[a("p",{staticClass:"name"},[s._v("总结")]),s._v(" "),a("p",{staticClass:"desc"},[s._v("参考1：https://www.runoob.com/docker/docker-command-manual.html、参考2：《CKA/CKAD应试指南》")])])])]),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 总结\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("desc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 参考1：https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//www.runoob.com/docker/docker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("manual.html、参考2：《CKA/CKAD应试指南》\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("bgColor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#F0DFB1'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("textColor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'green'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),a("h2",{attrs:{id:"docker配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker配置文件"}},[s._v("#")]),s._v(" Docker配置文件")]),s._v(" "),a("h3",{attrs:{id:"etc-docker-daemon-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#etc-docker-daemon-json"}},[s._v("#")]),s._v(" /etc/docker/daemon.json")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"registry-mirrors"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://xxx.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 镜像源")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"insecure-registries"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"192.168.80.10:5000"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置docker可以通过 http:// 协议访问")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"usr-lib-systemd-system-docker-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usr-lib-systemd-system-docker-service"}},[s._v("#")]),s._v(" /usr/lib/systemd/system/docker.service")]),s._v(" "),a("p",[s._v("系统服务文件"),a("code",[s._v("/usr/lib/systemd/system/docker.service")])]),s._v(" "),a("h2",{attrs:{id:"查看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看"}},[s._v("#")]),s._v(" 查看")]),s._v(" "),a("h3",{attrs:{id:"docker-ps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-ps"}},[s._v("#")]),s._v(" docker ps")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("查看正在运行的容器列表")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("-a")])]),s._v(" "),a("ul",[a("li",[s._v("列出所有容器，包括停止运行的")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("-l")])]),s._v(" "),a("ul",[a("li",[s._v("列出最后一次创建的容器")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("CONTAINER ID")]),s._v("（容器 ID）")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("IMAGE")]),s._v("（使用的镜像）")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("COMMAND")]),s._v("（启动容器时运行的命令）")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("CREATED")]),s._v("（容器的创建时间）")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("STATUS")]),s._v("（容器状态）")]),s._v(" "),a("ul",[a("li",[s._v("created（已创建）")]),s._v(" "),a("li",[s._v("restarting（重启中）")]),s._v(" "),a("li",[s._v("running 或 Up（运行中）")]),s._v(" "),a("li",[s._v("removing（迁移中）")]),s._v(" "),a("li",[s._v("paused（暂停）")]),s._v(" "),a("li",[s._v("exited（停止）")]),s._v(" "),a("li",[s._v("dead（死亡）")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("PORTS")]),s._v("（容器的端口信息和使用的连接类型（tcp/udp））")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("NAMES")]),s._v("（自动分配的容器名称）")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker-top"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-top"}},[s._v("#")]),s._v(" docker top")]),s._v(" "),a("ul",[a("li",[s._v("查看容器内部运行的进程")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" XXXXXX\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker-info"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-info"}},[s._v("#")]),s._v(" docker info")]),s._v(" "),a("ul",[a("li",[s._v("查看docker环境")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" info\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看docker源")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" info "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" registry "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"docker-logs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-logs"}},[s._v("#")]),s._v(" docker logs")]),s._v(" "),a("ul",[a("li",[s._v("查看指定容器内的标准输出")]),s._v(" "),a("li",[a("strong",[s._v("-f")]),s._v(" "),a("ul",[a("li",[s._v("跟踪日志输出")]),s._v(" "),a("li",[s._v("类似tail -f")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs XXXXXX\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs NAME\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" XXXXXX\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"docker-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-port"}},[s._v("#")]),s._v(" docker port")]),s._v(" "),a("ul",[a("li",[s._v("查看一个容器的端口映射")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" port XXXXXX\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" port NAME\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"docker-images"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-images"}},[s._v("#")]),s._v(" docker images")]),s._v(" "),a("ul",[a("li",[s._v("列出本地主机上的镜像\n"),a("ul",[a("li",[s._v("REPOSITORY\n"),a("ul",[a("li",[s._v("镜像的仓库源")])])]),s._v(" "),a("li",[s._v("TAG\n"),a("ul",[a("li",[s._v("镜像的标签")])])]),s._v(" "),a("li",[s._v("IMAGE ID\n"),a("ul",[a("li",[s._v("镜像ID")])])]),s._v(" "),a("li",[s._v("CREATED\n"),a("ul",[a("li",[s._v("镜像创建时间")])])]),s._v(" "),a("li",[s._v("SIZE\n"),a("ul",[a("li",[s._v("镜像大小")])])])])]),s._v(" "),a("li",[a("strong",[s._v("-q")]),s._v(" "),a("ul",[a("li",[s._v("只显示镜像id，不会显示太多信息")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"docker-inspect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-inspect"}},[s._v("#")]),s._v(" docker inspect")]),s._v(" "),a("ul",[a("li",[s._v("查看一个容器的底层Docker信息")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" inspect XXXXXX\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker-history"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-history"}},[s._v("#")]),s._v(" docker history")]),s._v(" "),a("ul",[a("li",[s._v("查看一个镜像的层结构（修改历史）")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" 镜像名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"容器管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器管理"}},[s._v("#")]),s._v(" 容器管理")]),s._v(" "),a("h3",{attrs:{id:"docker-rm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-rm"}},[s._v("#")]),s._v(" docker rm")]),s._v(" "),a("ul",[a("li",[s._v("删除容器")]),s._v(" "),a("li",[a("strong",[s._v("-f")]),s._v(" "),a("ul",[a("li",[s._v("强制删除正在运行的容器")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" XXXXXX\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker-run"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-run"}},[s._v("#")]),s._v(" docker run")]),s._v(" "),a("ul",[a("li",[s._v("运行一个容器")]),s._v(" "),a("li",[a("strong",[s._v("-i")]),s._v(" "),a("ul",[a("li",[s._v("允许你对容器内的标准输入进行交互（Stdin）（交互式操作）")])])]),s._v(" "),a("li",[a("strong",[s._v("-t")]),s._v(" "),a("ul",[a("li",[s._v("在新容器内，指定一个伪终端或终端（终端）")])])]),s._v(" "),a("li",[a("strong",[s._v("exit")]),s._v(" / "),a("strong",[s._v("Ctrl+D")]),s._v(" "),a("ul",[a("li",[s._v("退出一个容器的交互模式")])])]),s._v(" "),a("li",[a("strong",[s._v("-d")]),s._v(" "),a("ul",[a("li",[s._v("在后台运行并打印容器ID")]),s._v(" "),a("li",[s._v("加了-d参数，默认不会进入容器")])])]),s._v(" "),a("li",[a("strong",[s._v("-c")]),s._v(" "),a("ul",[a("li",[s._v("指定容器要运行的命令")])])]),s._v(" "),a("li",[a("strong",[s._v("--name")]),s._v(" "),a("ul",[a("li",[s._v("指定容器的名称")])])]),s._v(" "),a("li",[a("strong",[s._v("-P")]),s._v(" "),a("ul",[a("li",[s._v("将容器内部使用的网络端口，随机映射到我们使用的主机上")])])]),s._v(" "),a("li",[a("strong",[s._v("-p")]),s._v(" "),a("ul",[a("li",[s._v("指定容器和主机映射的端口")])])]),s._v(" "),a("li",[a("strong",[s._v("--network")]),s._v(" "),a("ul",[a("li",[s._v("指定容器使用的网络")]),s._v(" "),a("li",[s._v("可以使用docker network ls查看")])])]),s._v(" "),a("li",[a("strong",[s._v("--rm")]),s._v(" "),a("ul",[a("li",[s._v("容器退出时，自动清理容器内部的文件系统")])])]),s._v(" "),a("li",[a("strong",[s._v("-h")]),s._v(" / "),a("strong",[s._v("--hostname")]),s._v(" "),a("ul",[a("li",[s._v("设置容器的主机名")]),s._v(" "),a("li",[s._v("还会同时写入容器内的/etc/hostname和/etc/hosts")])])]),s._v(" "),a("li",[a("strong",[s._v("--dns")]),s._v(" "),a("ul",[a("li",[s._v("添加DNS服务器到容器的/etc/resolv.conf中")])])]),s._v(" "),a("li",[a("strong",[s._v("--dns-search")]),s._v(" "),a("ul",[a("li",[s._v("设置容器的搜索域")]),s._v(" "),a("li",[s._v("当搜索域为example.com时，搜索一个名为host的主机，DNS不仅搜索host，还会搜索host.example.com")])])]),s._v(" "),a("li",[a("strong",[s._v("-v")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-v /dir1")]),s._v(" "),a("ul",[a("li",[s._v("物理机的目录/var/lib/docker/volumes/ID/_data（ID是随机生成的）")]),s._v(" "),a("li",[s._v("挂载到容器的/dir1目录里")])])]),s._v(" "),a("li",[a("strong",[s._v("-v /dir2:/dir1")]),s._v(" "),a("ul",[a("li",[s._v("在物理机里指定目录/dir2")]),s._v(" "),a("li",[s._v("映射到容器的/dir1目录里")]),s._v(" "),a("li",[s._v("如果目录不存在，自动创建")])])]),s._v(" "),a("li",[a("strong",[s._v("-v /dir2:/dir1:rw")]),s._v(" "),a("ul",[a("li",[s._v("读写挂载（默认）")])])]),s._v(" "),a("li",[a("strong",[s._v("-v /dir2:/dir1:ro")]),s._v(" "),a("ul",[a("li",[s._v("只读挂载")])])])])]),s._v(" "),a("li",[a("strong",[s._v("--link")]),s._v(" "),a("ul",[a("li",[s._v("连接一个容器，并设置别名")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run ubuntu:15.10 /bin/echo "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" ubuntu:15.10 /bin/bash\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" ubuntu:15.10 /bin/bash "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"while true; do echo hello world; sleep 1; done;"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-itd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" ubuntu-test ubuntu /bin/bash\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-P")]),s._v(" training/webapp python app.py\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v(":5000 training/webapp python app.py\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 连接容器db, 设置别名为mysqlxx, 在后续命令中可以使用"mysqlxx"这个主机名进行操作')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-itd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--link")]),s._v(" db:mysqlxx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WORDPRESS_DB_HOST")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysqlxx wordpress\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"docker-pull"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-pull"}},[s._v("#")]),s._v(" docker pull")]),s._v(" "),a("ul",[a("li",[s._v("从源获取/载入一个镜像")]),s._v(" "),a("li",[s._v("如果不指定镜像的版本标签，Docker将默认使用ubuntu:latest镜像")]),s._v(" "),a("li",[s._v("使用一个不存在的镜像时，Docker将会自动下载这个镜像")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull ubuntu\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull ubuntu:15.04\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"docker-stop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-stop"}},[s._v("#")]),s._v(" docker stop")]),s._v(" "),a("ul",[a("li",[s._v("停止一个容器")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop XXXXXX\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop NAME\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"docker-restart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-restart"}},[s._v("#")]),s._v(" docker restart")]),s._v(" "),a("ul",[a("li",[s._v("重启一个容器")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" restart XXXXXX\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker-container"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-container"}},[s._v("#")]),s._v(" docker container")]),s._v(" "),a("ul",[a("li",[s._v("管理容器列表")]),s._v(" "),a("li",[a("strong",[s._v("prune")]),s._v(" "),a("ul",[a("li",[s._v("清除所有处于终止状态的容器")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" container prune\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker-attach-docker-exec"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-attach-docker-exec"}},[s._v("#")]),s._v(" docker attach / docker exec")]),s._v(" "),a("ul",[a("li",[s._v("进入一个容器\n"),a("ul",[a("li",[s._v("attach在退出容器时，会终止容器的运行")]),s._v(" "),a("li",[s._v("exec在退出容器时，容器会继续运行")])])]),s._v(" "),a("li",[a("strong",[s._v("--user")]),s._v(" "),a("ul",[a("li",[s._v("以XXX用户进入容器")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" attach XXXXXX\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" XXXXXX /bin/bash\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--user")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root XXXXXX /bin/bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"镜像管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像管理"}},[s._v("#")]),s._v(" 镜像管理")]),s._v(" "),a("h3",{attrs:{id:"docker-rmi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-rmi"}},[s._v("#")]),s._v(" docker rmi")]),s._v(" "),a("ul",[a("li",[s._v("删除镜像")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi ubuntu:15.10\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker-tag"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-tag"}},[s._v("#")]),s._v(" docker tag")]),s._v(" "),a("ul",[a("li",[s._v("为镜像添加一个新的标签")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" tag XXX runoob/centos:dev\n\nREPOSITORY                  TAG                 IMAGE ID   CREATED             SIZE\nrunoob/centos               "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.7")]),s._v("                 XXX        About an hour ago   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("190.3")]),s._v(" MB\nrunoob/centos               dev                 XXX        About an hour ago   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("190.3")]),s._v(" MB\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"docker-build"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-build"}},[s._v("#")]),s._v(" docker build")]),s._v(" "),a("ul",[a("li",[s._v("根据Dockerfile构建一个新的镜像\n"),a("ul",[a("li",[s._v("-t\n"),a("ul",[a("li",[s._v("指定创建的镜像（镜像名称:镜像标签）")])])]),s._v(" "),a("li",[s._v(".\n"),a("ul",[a("li",[s._v("Dockerfile的上下文路径，.表示当前目录下")])])])])]),s._v(" "),a("li",[s._v("需要创建"),a("strong",[s._v("Dockerfile")]),s._v("文件\n"),a("ul",[a("li",[s._v("其中包含一组指令，来告诉docker如何构建镜像")]),s._v(" "),a("li",[s._v("每一个指令都会在镜像上创建一个新的层，每一个指令的前缀必须是大写")])])]),s._v(" "),a("li",[s._v("FROM\n"),a("ul",[a("li",[s._v("指定使用的镜像源")])])]),s._v(" "),a("li",[s._v("RUN\n"),a("ul",[a("li",[s._v("在镜像内执行的命令")])])])]),s._v(" "),a("div",{staticClass:"language-dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[s._v("vim Dockerfile\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v("\tcentos:6.7")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MAINTAINER")]),s._v("\tFisher "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fisher@sudops.com"')])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RUN")]),s._v("\t\t/bin/echo "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root:123456'")]),s._v(" | chpasswd")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RUN")]),s._v("\t\tuseradd runoob")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RUN")]),s._v("\t\t/bin/echo "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'runoob:123456'")]),s._v(" | chpasswd")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RUN")]),s._v("\t\t/bin/echo -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"LANG=\\"en_US.UTF-8\\""')]),s._v(" > /etc/default/local")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXPOSE")]),s._v("\t22")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXPOSE")]),s._v("\t80")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CMD")]),s._v("\t\t/usr/sbin/sshd -D")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" centos:v2 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker-commit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-commit"}},[s._v("#")]),s._v(" docker commit")]),s._v(" "),a("ul",[a("li",[s._v("提交一个容器副本，创建镜像")]),s._v(" "),a("li",[s._v("-m\n"),a("ul",[a("li",[s._v("提交的描述信息")])])]),s._v(" "),a("li",[s._v("-a\n"),a("ul",[a("li",[s._v("镜像的作者")])])]),s._v(" "),a("li",[s._v("XXX\n"),a("ul",[a("li",[s._v("容器ID")])])]),s._v(" "),a("li",[s._v("runoob/ubuntu:v2\n"),a("ul",[a("li",[s._v("创建的镜像名称")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" ubuntu:15.10 /bin/bash\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" commit "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"has update"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"runoob"')]),s._v(" XXX runoob/ubuntu:v2\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" runoob/ubuntu:v2 /bin/bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"docker-push"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-push"}},[s._v("#")]),s._v(" docker push")]),s._v(" "),a("ul",[a("li",[s._v("推送一个镜像到镜像服务器")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" tag centos:v1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".80.10:5000/xxx/centos:v1\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" push "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".80.10:5000/xxx/centos:v1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"导入-导出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入-导出"}},[s._v("#")]),s._v(" 导入/导出")]),s._v(" "),a("h3",{attrs:{id:"docker-export"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-export"}},[s._v("#")]),s._v(" docker export")]),s._v(" "),a("ul",[a("li",[s._v("导出一个容器快照")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" XXXXXX "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ubuntu.tar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker-import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-import"}},[s._v("#")]),s._v(" docker import")]),s._v(" "),a("ul",[a("li",[s._v("导入一个容器快照文件（本地或URL）")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 导入一个容器快照文件，到镜像test.ubuntu:v1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ubuntu.tar "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" - test/ubuntu:v1\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" http://example.com/xxxpro\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"docker-save"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-save"}},[s._v("#")]),s._v(" docker save")]),s._v(" "),a("ul",[a("li",[s._v("导出镜像到本地文件")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" save "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" test.tar test/ubuntu:v1\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" save 镜像名 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" file.tar\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" save 镜像名1 镜像名2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" file.tar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"docker-load"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-load"}},[s._v("#")]),s._v(" docker load")]),s._v(" "),a("ul",[a("li",[s._v("导入一个镜像")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" load "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" test.tar\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" load "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" 文件名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"网络"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络"}},[s._v("#")]),s._v(" 网络")]),s._v(" "),a("h3",{attrs:{id:"docker-network-ls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-network-ls"}},[s._v("#")]),s._v(" docker network ls")]),s._v(" "),a("ul",[a("li",[s._v("查看网络列表")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" network "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker-network-create"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-network-create"}},[s._v("#")]),s._v(" docker network create")]),s._v(" "),a("ul",[a("li",[s._v("新建网络")]),s._v(" "),a("li",[a("strong",[s._v("-d")]),s._v(" "),a("ul",[a("li",[s._v("网络类型")]),s._v(" "),a("li",[s._v("bridge或overlay")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" network create "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" bridge test123\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[s._v("#")]),s._v(" 配置文件")]),s._v(" "),a("h3",{attrs:{id:"etc-docker-daemon-json-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#etc-docker-daemon-json-2"}},[s._v("#")]),s._v(" /etc/docker/daemon.json")]),s._v(" "),a("ul",[a("li",[s._v("设置所有容器的配置")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置所有容器的DNS为114.114.114.114和8.8.8.8（容器启动时自动设置）")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/docker/daemon.json\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dns"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"114.114.114.114"')]),s._v(",\n\t\t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8.8.8.8"')]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"仓库管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#仓库管理"}},[s._v("#")]),s._v(" 仓库管理")]),s._v(" "),a("h3",{attrs:{id:"docker-push-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-push-2"}},[s._v("#")]),s._v(" docker push")]),s._v(" "),a("ul",[a("li",[s._v("用户登录Docker Hub后，可以使用docker push将自己的镜像推送到Docker Hub\n"),a("ul",[a("li",[s._v("username应为自己的用户名")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" tag ubuntu:18.04 username/ubuntu:18.04\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" push username/ubuntu:18.04\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" search username/ubuntu\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"docker-login"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-login"}},[s._v("#")]),s._v(" docker login")]),s._v(" "),a("ul",[a("li",[s._v("登录Docker Hub\n"),a("ul",[a("li",[s._v("https://hub.docker.com/")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" login\n\t输入账号密码\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"docker-logout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-logout"}},[s._v("#")]),s._v(" docker logout")]),s._v(" "),a("ul",[a("li",[s._v("退出Docker Hub登录状态")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("logout")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"docker-search"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-search"}},[s._v("#")]),s._v(" docker search")]),s._v(" "),a("ul",[a("li",[s._v("从Docker Hub上搜索镜像源")]),s._v(" "),a("li",[s._v("NAME\n"),a("ul",[a("li",[s._v("镜像仓库源的名称")])])]),s._v(" "),a("li",[s._v("DESCRIPTION\n"),a("ul",[a("li",[s._v("镜像的描述")])])]),s._v(" "),a("li",[s._v("OFFICIAL\n"),a("ul",[a("li",[s._v("是否是docker官方发布")])])]),s._v(" "),a("li",[s._v("stars\n"),a("ul",[a("li",[s._v("类似Github里的star，表示点赞")])])]),s._v(" "),a("li",[s._v("AUTOMATED\n"),a("ul",[a("li",[s._v("自动构建")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" search httpd\n\nINDEX       NAME                                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED\ndocker.io   docker.io/httpd                                   The Apache HTTP Server Project                  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4216")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  \ndocker.io   docker.io/centos/httpd-24-centos7                 Platform "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" running Apache httpd "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v(" or b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v("              \ndocker.io   docker.io/centos/httpd                                                                            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v("                   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"镜像registry搭建私有仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像registry搭建私有仓库"}},[s._v("#")]),s._v(" 镜像registry搭建私有仓库")]),s._v(" "),a("ul",[a("li",[s._v("修改配置文件/etc/docker/daemon.json\n"),a("ul",[a("li",[s._v("允许http方式访问")])])])]),s._v(" "),a("ol",[a("li",[s._v("使用镜像registry运行容器，端口5000")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" myreg "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v(":5000 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--restart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /myreg:/var/lib/registry registry\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用国内源")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" myreg "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v(":5000 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--restart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" myreg:/var/lib/registry hub.c.163.com/library/registry\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("给镜像做标签")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker tag <镜像名:标签> <仓库地址:端口/镜像地址:标签>")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" tag centos:latest "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".80.10:5000/xxx/centos:v1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("推送镜像")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" push "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".80.10:5000/xxx/centos:v1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("查看和下载镜像")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装工具jq")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" jq\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" http://192.168.80.10:5000/v2/_catalog "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" jq\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" http://192.168.80.10:5000/v2/xxx/centos/tags/list\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".80.10:5000/xxx/centos:v1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("删除镜像\n"),a("ul",[a("li",[s._v("通过shell脚本（本地删除）")]),s._v(" "),a("li",[s._v("直接删除仓库里的目录（本地删除）")]),s._v(" "),a("li",[s._v("通过仓库的HTTP API删除（远程删除）")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# shell脚本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" ftp://ftp.rhce.cc/cka-tool/delete_docker_registry_image\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x delete_docker_registry_image\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REGISTRY_DATA_DIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/myreg/docker/registry/v2\n./delete_docker_registry_image "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".80.10:5000/xxx/centos:v1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" registry "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" /var/lib/registry/docker/registry/v2/repositories/XXX\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# http api")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-X")]),s._v(" DELETE https://192.168.80.10:5000/v2/messer/manifests/sha256:XXX\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"harbor搭建私有仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#harbor搭建私有仓库"}},[s._v("#")]),s._v(" harbor搭建私有仓库")]),s._v(" "),a("ul",[a("li",[s._v("修改配置文件/etc/docker/daemon.json\n"),a("ul",[a("li",[s._v("允许http方式访问**（把端口去掉，只留下IP地址）**")])])])]),s._v(" "),a("ol",[a("li",[s._v("下载离线包并解压\n"),a("ul",[a("li",[s._v("https://github.com/goharbor/harbor/releases")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-zxvf")]),s._v(" harbor-offline-installer-v2.0.6.tgz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" harbor/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("导入镜像")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" load "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" harbor.v2.0.6.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("运行脚本./prepare执行一些准备工作")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./prepare\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("生成harbor.yaml，编辑文件\n"),a("ul",[a("li",[a("strong",[s._v("修改hostname为本主机名")])]),s._v(" "),a("li",[s._v("harbor_admin_password是默认密码\n"),a("ul",[a("li",[s._v("默认为：Harbor12345")])])]),s._v(" "),a("li",[a("strong",[s._v("注释https相关信息")])])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" harbor.yml.tmpl harbor.yml\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" harbor.yml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("运行install.sh")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./install.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"6"}},[a("li",[s._v("访问harbor，输入用户名admin和密码（默认密码Harbor12345）")]),s._v(" "),a("li",[s._v("项目 -> 新建项目（项目名称-XXX、访问级别-公开）")]),s._v(" "),a("li",[s._v("系统管理 -> 用户管理 -> 创建用户")]),s._v(" "),a("li",[s._v("为项目添加用户，项目 -> XXX -> 成员 -> +用户")]),s._v(" "),a("li",[s._v("修改/etc/docker/daemon.json，更换仓库地址")]),s._v(" "),a("li",[s._v("重启docker")]),s._v(" "),a("li",[s._v("登录私有仓库\n"),a("ul",[a("li",[s._v("会生成隐藏文件.docker，记录了登录信息")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" login "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".80.10\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入账号密码")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"13"}},[a("li",[s._v("推送镜像")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" tag XXX "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".80.10/XXX:v1\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" push "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".80.10/XXX:v1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"14"}},[a("li",[s._v("在harbor管理界面查看推送的镜像")])]),s._v(" "),a("h2",{attrs:{id:"dockerfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile"}},[s._v("#")]),s._v(" Dockerfile")]),s._v(" "),a("h3",{attrs:{id:"copy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#copy"}},[s._v("#")]),s._v(" COPY")]),s._v(" "),a("ul",[a("li",[s._v("复制指令，从上下文目录中，复制文件或目录 到容器里指定路径\n"),a("ul",[a("li",[s._v("--chown=<user>:<group>\n"),a("ul",[a("li",[s._v("可选参数")]),s._v(" "),a("li",[s._v("用户改变复制到容器内，文件的拥有者和属组")])])]),s._v(" "),a("li",[s._v("<源路径>\n"),a("ul",[a("li",[s._v("源文件或者源目录")]),s._v(" "),a("li",[s._v("可以是通配符表达式，规则需要满足Go的filepath.Match包")])])]),s._v(" "),a("li",[s._v("<目标路径>\n"),a("ul",[a("li",[s._v("容器内的指定路径")]),s._v(" "),a("li",[s._v("如果不存在会自动创建")])])])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('COPY [--chown=<user>:<group>] <源路径1>... <目标路径>\nCOPY [--chown=<user>:<group>] ["<源路径1>",... "<目标路径>"]\n\nCOPY hom* /mydir/\nCOPY hom?.txt /mydir/\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"add"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add"}},[s._v("#")]),s._v(" ADD")]),s._v(" "),a("ul",[a("li",[s._v("和COPY使用格式类似\n"),a("ul",[a("li",[s._v("同样需求下，官方推荐使用COPY")])])]),s._v(" "),a("li",[s._v("ADD优点\n"),a("ul",[a("li",[s._v("如果<源文件>为tar压缩文件的话")]),s._v(" "),a("li",[s._v("压缩格式为gzip、bzip2、xz的情况下")]),s._v(" "),a("li",[s._v("会自动复制并解压到<目标路径>")])])]),s._v(" "),a("li",[s._v("ADD缺点\n"),a("ul",[a("li",[s._v("在不解压的前提下，无法复制tar压缩文件")]),s._v(" "),a("li",[s._v("会令镜像构建缓存失败，可能会导致镜像构建变得比较缓慢")]),s._v(" "),a("li",[s._v("具体是否使用，可根据是否需要自动解压来决定")])])])]),s._v(" "),a("h3",{attrs:{id:"cmd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cmd"}},[s._v("#")]),s._v(" CMD")]),s._v(" "),a("ul",[a("li",[s._v("类似RUN，但是运行的时间点不同\n"),a("ul",[a("li",[s._v("CMD在docker run时运行")]),s._v(" "),a("li",[s._v("RUN在docker build时运行")])])]),s._v(" "),a("li",[s._v("作用\n"),a("ul",[a("li",[s._v("为启动的容器，指定默认要运行的程序")]),s._v(" "),a("li",[s._v("程序运行结束，容器也就结束")]),s._v(" "),a("li",[s._v("CMD指令可被docker run指定的程序覆盖")])])]),s._v(" "),a("li",[a("strong",[s._v("注意")]),s._v(" "),a("ul",[a("li",[s._v("如果Dockerfile存在多个CMD指令，仅最后一个生效")])])]),s._v(" "),a("li",[s._v("推荐使用第二种格式\n"),a("ul",[a("li",[s._v("执行过程比较明确")]),s._v(" "),a("li",[s._v("第一种格式在运行过程中，也会自动转换为第二种格式运行")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('CMD <shell命令>\nCMD ["<可执行文件或命令>", "<param1>", "<param2>", ...]\nCMD ["<param1>", "<param2>", ...]\t\t\t\t\t\t# 为ENTRYPOINT指令指定的程序 提供默认参数\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"entrypoint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entrypoint"}},[s._v("#")]),s._v(" ENTRYPOINT")]),s._v(" "),a("ul",[a("li",[s._v("类似CMD指令\n"),a("ul",[a("li",[s._v("不会被docker run指定的命令所覆盖")]),s._v(" "),a("li",[s._v("这些指定的命令，会被当作参数传递给ENTRYPOINT指定的程序")]),s._v(" "),a("li",[s._v("如果docker run指定了--entrypoint选项，将覆盖ENTRYPOINT")])])]),s._v(" "),a("li",[s._v("优点\n"),a("ul",[a("li",[s._v("执行docker run时，可以指定ENTRYPOINT运行所需的参数")])])]),s._v(" "),a("li",[a("strong",[s._v("注意")]),s._v(" "),a("ul",[a("li",[s._v("如果Dockerfile中存在多个ENTRYPOINT指令，仅最后一个生效")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("ENTRYPOINT "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<executeable>"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<param1>"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<param2>"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("可以搭配CMD命令使用\n"),a("ul",[a("li",[s._v("一般是变参才会使用CMD")]),s._v(" "),a("li",[s._v("这里的CMD等于给ENTRYPOINT传参")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('FROM nginx\n\nENTRYPOINT ["nginx", "-c"]\t\t# 定参\nCMD ["/etc/nginx/nginx.conf"]\t# 变参\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不传参运行")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run nginx:test\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器默认运行以下命令，启动主进程")]),s._v("\n\tnginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" /etc/nginx/nginx.conf\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 传参运行")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run nginx:test "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" /etc/nginx/new.conf\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器默认运行以下命令，启动主进程")]),s._v("\n\tnginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" /etc/nginx/new.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"env"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#env"}},[s._v("#")]),s._v(" ENV")]),s._v(" "),a("ul",[a("li",[s._v("设置环境变量")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ENV <key> <value>\nENV <key1>=<value1> <key2>=<value2>...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("ENV NODE_VERSION "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.2")]),s._v(".0\n\nRUN "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-SLO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://nodejs.org/dist/v'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NODE_VERSION")]),s._v("/node-v"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NODE_VERSION")]),s._v('-linux-x64.tar.xz"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-SLO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://nodejs.org/dist/v'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NODE_VERSION")]),s._v('/SHASUMS256.txt.asc"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"arg"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arg"}},[s._v("#")]),s._v(" ARG")]),s._v(" "),a("ul",[a("li",[s._v("与ENV作用一致，"),a("strong",[s._v("作用域不一样")]),s._v(" "),a("ul",[a("li",[s._v("ARG设置的环境变量，仅对Dockerfile内有效\n"),a("ul",[a("li",[s._v("docker build过程")]),s._v(" "),a("li",[s._v("构建好的镜像不存在此环境变量")])])]),s._v(" "),a("li",[s._v("可以被docker build的--build-arg <key>=<value>覆盖")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ARG <参数名>[=<默认值>]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"volume"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#volume"}},[s._v("#")]),s._v(" VOLUME")]),s._v(" "),a("ul",[a("li",[s._v("定义匿名数据卷\n"),a("ul",[a("li",[s._v("在启动容器时，如果忘记挂载数据卷，会自动挂载到匿名卷")]),s._v(" "),a("li",[s._v("docker run时，可以通过-v参数修改挂载点")])])]),s._v(" "),a("li",[s._v("作用\n"),a("ul",[a("li",[s._v("避免重要的数据，因容器重启而丢失（致命）")]),s._v(" "),a("li",[s._v("避免容器不断变大")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('VOLUME ["<路径1>", "<路径2>"...]\nVOLUME <路径>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"expose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expose"}},[s._v("#")]),s._v(" EXPOSE")]),s._v(" "),a("ul",[a("li",[s._v("声明端口\n"),a("ul",[a("li",[s._v("镜像服务的守护端口，以方便配置映射")]),s._v(" "),a("li",[s._v("在docker run -P时，会随机映射EXPOSE指定的端口")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("EXPOSE <端口1> [<端口2>...]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"workdir"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#workdir"}},[s._v("#")]),s._v(" WORKDIR")]),s._v(" "),a("ul",[a("li",[s._v("指定工作目录\n"),a("ul",[a("li",[s._v("WORKDIR指定的工作目录，会在构建镜像的每一层中都存在")]),s._v(" "),a("li",[s._v("指定的目录必须提前创建好")]),s._v(" "),a("li",[s._v("每一个RUN都是新建的一层，只有WORKDIR创建的目录才会一直存在")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("WORKDIR <工作目录路径>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"user"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user"}},[s._v("#")]),s._v(" USER")]),s._v(" "),a("ul",[a("li",[s._v("指定执行后续命令的用户和用户组\n"),a("ul",[a("li",[s._v("只是切换用户（后续执行命令的用户）")]),s._v(" "),a("li",[s._v("用户和用户组必须已存在")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("USER <用户名>[:<用户组>]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"healthcheck"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#healthcheck"}},[s._v("#")]),s._v(" HEALTHCHECK")]),s._v(" "),a("ul",[a("li",[s._v("指定某个程序或指令，监控docker容器服务的运行状态\n"),a("ul",[a("li",[s._v("设置检查容器健康状态的命令")]),s._v(" "),a("li",[s._v("如果基础镜像有健康检查指令，NONE可以屏蔽掉其健康检查指令")]),s._v(" "),a("li",[s._v("CMD后面跟随的命令使用，可参考CMD的用法")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("HEALTHCHECK [选项] CMD <命令>\n\nHEALTHCHECK NONE\n\nHEALTHCHECK [选项] CMD <命令>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"onbuild"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onbuild"}},[s._v("#")]),s._v(" ONBUILD")]),s._v(" "),a("ul",[a("li",[s._v("延迟构建命令的执行\n"),a("ul",[a("li",[s._v("Dockerfile里用ONBUILD指定的命令（FROM ubuntu - test）\n"),a("ul",[a("li",[s._v("在本次构建镜像的过程中不会执行")])])]),s._v(" "),a("li",[s._v("当有新的Dockerfile使用了上一个镜像（FROM test - test2）\n"),a("ul",[a("li",[s._v("在进行构建时，会执行test中的ONBUILD")])])])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ONBUILD <其它指令>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"label"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#label"}},[s._v("#")]),s._v(" LABEL")]),s._v(" "),a("ul",[a("li",[s._v("给镜像添加一些元数据（metadata）")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('LABEL <key>=<value> <key>=<value> <key>=<value>...\n\nLABEL org.opencontainers.image.authors="runoob"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"maintainer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maintainer"}},[s._v("#")]),s._v(" MAINTAINER")]),s._v(" "),a("ul",[a("li",[s._v("维护者的信息")])]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"docker-compose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[s._v("#")]),s._v(" Docker Compose")]),s._v(" "),a("h3",{attrs:{id:"docker-compose-up"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-up"}},[s._v("#")]),s._v(" docker-compose up"),a("span",{attrs:{id:"docker_compose_up"}})]),s._v(" "),a("ul",[a("li",[s._v("运行一个Compose应用\n"),a("ul",[a("li",[a("strong",[s._v("-d")]),s._v(" "),a("ul",[a("li",[s._v("后台运行")])])])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" up\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" up "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);